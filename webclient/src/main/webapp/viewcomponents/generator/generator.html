<div id="headerBox" ng-include="'shared/menus/menu.app.html'"></div>

<div id="subheaderBox">
	<div class="top">
		<span class="navBar">
			<ul>
			  <li class="step1 act"><a href="#/viewcomponents/app-maintain/update/{{ctrl.appid}}">{{'navnbar.appdetails' | translate}}</a></li>
			  <li class="step2 act"><a href="#/viewcomponents/domain-byapp/{{ctrl.appid}}">{{'navnbar.domainobjects' | translate}}</a></li>
			  <li class="step3 act"><a href="">{{'navnbar.generate' | translate}}</a></li>
			  <li class="clearer"></li>
			</ul>
		</span>
		<button class="icon back hint" href="#/viewcomponents/domain-byapp/{{ctrl.appid}}"><span>{{'button.back' | translate}}</span></button>
		<div class="clearer"></div>
	</div>
	<div class="bottom aCenter">
		<span class="button add"><a href="" ng-click="ctrl.checkAuthentication();">{{'generator.button.downloadapp' | translate}}</a></span>
		<div class="w3-row-padding"><a class="w3-btn w3-pb-red w3-round-xxlarge" href="{{ctrl.downloadlink}}" style="display:none" id="downloadlink"></a></div>
	</div>
</div>

<div id="bodyBox">
	<div class="contain">
		<form id="appForm" name="ctrl.form"> 
			<fieldset class="odd">
				<table>
			    	<colgroup>
			    		<col class="">
			    		<col class="">
			    		<col class="">
			    	</colgroup>
					<thead>
						<tr>
							<td colspan="3">
								<h3>{{'generator.title.appsetup' | translate}}</h3>
							</td>
						</tr>
					</thead>
					<tbody>
						<tr>
							<th></th>
							<th>{{'app.template' | translate}}</th>
							<th>{{'app.target' | translate}}</th>
						</tr>
						<tr>
							<th>{{'app.title' | translate}}</th>
							<td>{{ctrl.generatorDto.app.template.title}}</td>
							<td>{{ctrl.generatorDto.app.title}}</td>
						</tr>
						<tr>
							<th>{{'app.location' | translate}}</th>
							<td>{{ctrl.generatorDto.app.template.location}}</td>
							<td></td>
						</tr>	
						<tr>
							<th>{{'app.templatebranch' | translate}}</th>
							<td>{{ctrl.generatorDto.app.template.branch}}</td>
							<td></td>
						</tr>					
						<tr>
							<th>{{'app.packageprefix' | translate}}</th>
							<td>{{ctrl.generatorDto.app.template.packagePrefix}}</td>
							<td>{{ctrl.generatorDto.app.packagePrefix}}</td>
						</tr>
					</tbody>
				</table>
			</fieldset>
			<fieldset class="even">
				<table ng-if="ctrl.domainAll != null && ctrl.domainAll.length > 0">
			    	<colgroup>
			    		<col class="">
			    		<col class="">
			    		<col class="">
			    	</colgroup>
					<thead>
						<tr>
							<td>
								<h3>{{'generator.title.domains' | translate}}</h3>
							</td>
							<td>&nbsp;</td>
							<td class="aRight">
							</td>
						</tr>
					</thead>
					<tbody>
						<tr>
							<td>
								<div class="clickBox" ng-repeat="domain in ctrl.domainAll">
									<input type="checkbox" checked="true" ng-model="domain.selected"/><span>{{domain.name}}</span>
								</div>
							</td>
						</tr>
					</tbody>
				</table>	
			</fieldset>

<!-- 
			<fieldset class="odd">
				<table>
					<colgroup>
						<col class="">
						<col class="">
						<col class="">
						<col class="">
						<col class="">
						<col class="">
						<col class="">
						<col class="">
						<col class="">
						<col class="">
					</colgroup>
					<thead>
						<tr>
							<td>
								<h3>{{'generator.targetLogin' | translate}}</h3>
							</td>
							<td>&nbsp;</td>
							<td class="aRight">
							</td>
						</tr>
					</thead>
					<tbody>
						<tr>
							<td>
								<span>{{'generator.target.repo.name' | translate}}* </span>
							</td>
							<td>
								<input type="string" ng-model="ctrl.targetRepoData.repoName"/>
							</td>
						</tr>
						<tr>
							<td>
								<span>{{'generator.baseurl' | translate}}* </span>
							</td>
							<td>
								<input type="string" ng-model="ctrl.targetRepoData.baseURL"/>
							</td>
						</tr>
						<tr>
							<td>
								<span>{{'generator.target.appname' | translate}} </span>
							</td>
							<td>
								<input type="string" ng-model="ctrl.targetRepoData.appName"/>
							</td>
						</tr>
						<tr>
							<td>
								<span>{{'generator.username' | translate}}* </span>
							</td>
							<td>
								<input type="string" ng-model="ctrl.targetRepoData.username"/>
							</td>
						</tr>
						<tr>
							<td>
								<span>{{'generator.password' | translate}}* </span>
							</td>
							<td>
								<input type="password" ng-model="ctrl.targetRepoData.password"/>
							</td>
						</tr>
						<tr>
							<td>
								<span class="button add"><a href="" ng-click="ctrl.checkTargetRepo();">{{'button.list.target.repo' | translate}}</a></span>
							</td>
							<td>
								<span class="button add"><a href="" ng-click="ctrl.createTargetRepo();">{{'button.create.target.repo' | translate}}</a></span>
							</td>
						</tr>
					</tbody>
				</table>
				<table ng-show="ctrl.targetRepoLoaded">
					<thead>
						<tr>
							<td>Name</td>
							<td>is public?</td>
							<td>SSH Link</td>
							<td>HTTP Link</td>
						</tr>
					</thead>
					<tbody>
						<tr ng-repeat="repo in ctrl.repos">
							<td>{{repo.name}}</td>
							<td>{{repo.public}}</td>
							<td>{{repo.sshCloneURL}}</td>
							<td>{{repo.httpCloneURL}}</td>
						</tr>
					</tbody>
				</table>
			</fieldset> 
-->
		</form>
	</div>
</div>
<div id="dialogBox">
	<div ng-include="'shared/dialogs/dialog.success.html'"></div>
	<div ng-include="'shared/dialogs/dialog.error.ext.html'"></div>
	<div ng-include="'shared/dialogs/dialog.loading.html'"></div>
	<div ng-include="'shared/dialogs/dialog.authentication.html'"></div>	
</div>