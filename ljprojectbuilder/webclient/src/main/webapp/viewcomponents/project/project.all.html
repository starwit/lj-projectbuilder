<div ng-include="'shared/menus/menu.project.all.html'"></div>
<div ng-include="'shared/dialogs/dialog.success.html'"></div>
<div ng-include="'shared/dialogs/dialog.error.html'"></div>

<div class="w3-row-padding w3-container">
	<div class="w3-row-padding">
		<div class="w3-half">
			<h2></h2>
		</div>
		<div class="w3-half">
			<div class="w3-right w3-padding-top">
				<button class="w3-btn w3-theme w3-round-xxlarge" ng-click="ctrl.gotoProject.create();"><i class="fa fa-plus"></i> {{ 'button.add' | translate}}</button>
			</div>
		</div>
	</div>	
	<div class="w3-row-padding">
		<div class="w3-accordion"  ng-repeat="project in ctrl.projectAll">
			<div ng-click="ctrl.showDetails(project.id);" ng-dblclick="ctrl.gotoProject.update(project.id);" class="w3-margin-top w3-border w3-btn-block w3-left-align w3-theme-l4 w3-card-4">
				<div id="delete" ng-click="$event.stopPropagation();ctrl.deleteProject(project.id);" class="w3-closebtn w3-padding">x</div>
				<h3>{{project.title}}</h3>
				<span>{{project.description}}</span>
			</div>
			
			<div id="{{project.id}}" class="w3-accordion-content w3-padding-16 w3-card-4 w3-hoverable" ng-dblclick="ctrl.gotoProject.update(project.id);" >
			  	
				<table class="w3-table-all">
					<thead>
						<tr class="w3-theme-l3">
							<th>{{'project.label' | translate}}</th>
							<th>{{'project.template' | translate}}</th>
							<th>{{'project.target' | translate}}</th>
						</tr>	
					</thead>
					<tbody>
						<tr>
							<td class="w3-theme-l5">{{'project.location' | translate}}</td>
							<td>{{project.template.templateLocation}}, {{'project.templatebranch' | translate}}: {{project.template.branch}}</td>
							<td></td>
						</tr>
						
						<tr>
							<td class="w3-theme-l5">{{'project.title' | translate}}</td>
							<td>{{project.template.templateTitle}}</td>
							<td>{{project.title}}</td>
						</tr>
						
						<tr>
							<td class="w3-theme-l5">{{'project.packageprefix' | translate}}</td>
							<td>{{project.template.templatePackagePrefix}}</td>
							<td>{{project.packagePrefix}}</td>
						</tr>
						
						<tr>
							<td class="w3-theme-l5">{{'project.domains' | translate}}</td>
							<td colspan="2">
								<div>
									<span ng-repeat="domain in project.domains">{{domain.name}} </span>
								</div>
							</td>
						</tr>
					</tbody>
				</table>
			</div>
		</div>	
	</div>
</div>
