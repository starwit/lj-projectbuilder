CREATE TABLE CATEGORY (
	ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1),
	NAME VARCHAR(255) NOT NULL,
	PRIMARY KEY (ID)
);
    
CREATE TABLE CODETEMPLATE (
	ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1),
 	CREATE_DOMAIN_DIR BOOLEAN NOT NULL,
 	FILE_NAME_SUFFIX VARCHAR(100) NOT NULL,
 	LOWER_CASE BOOLEAN NOT NULL,
 	TARGET_PATH VARCHAR(255) NOT NULL,
	TEMPLATE_PATH VARCHAR(255) NOT NULL,
	TEMPLATE_TYPE VARCHAR(255) NOT NULL,
	FIRST_UPPER BOOLEAN NOT NULL,
	CATEGORY_ID BIGINT,
	PROJECT_ID BIGINT,
	PRIMARY KEY (ID)
);

CREATE TABLE CODETEMPLATE_PROJECT (
    CODETEMPLATE_ID BIGINT NOT NULL,
    PROJECT_ID BIGINT NOT NULL,
    PRIMARY KEY (CODETEMPLATE_ID, PROJECT_ID)
);
    
ALTER TABLE CODETEMPLATE 
	ADD CONSTRAINT FK_CODETEMPLATE_CATEGORY 
	FOREIGN KEY (CATEGORY_ID) 
	REFERENCES CATEGORY;
	
ALTER TABLE CODETEMPLATE_PROJECT 
    ADD CONSTRAINT FK_CT_PR_PR
    FOREIGN KEY (PROJECT_ID) 
    REFERENCES PROJECT;

ALTER TABLE CODETEMPLATE_PROJECT 
    ADD CONSTRAINT FK_CT_PR_CT
    FOREIGN KEY (CODETEMPLATE_ID) 
    REFERENCES CODETEMPLATE;
	
ALTER TABLE CATEGORY ADD CONSTRAINT NAME_UNIQUE UNIQUE ("NAME");